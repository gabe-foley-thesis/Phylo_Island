# Phylo Island

Phylo Island is an interactive GUI for associating multi-subunit proteins together on a genome to allow for curation of multi-subunit protein complexes to occur in tandem.

Genomes and subunits can be tagged and excluded from further analysis, and 


<img src="https://raw.githubusercontent.com/gabe-foley-thesis/Phylo_Island/main/images/Phylo_island_overview_2021.png" width="800">

# Installation

1. Clone the repo and install requirements.

Recommend to do this inside a conda environment or virtual environment


```
git clone github.com/gabe-foley-thesis/PhyloIsland
pip install -r pi/install/requirements.txt
```

2. Install MongoDB

https://docs.mongodb.com/manual/installation/

You can set the name of the database you want to create in `pi/configs/mongoconfig.py` and then when you run the application it will create this for you.

3. Install HMMER

http://hmmer.org/documentation.html


4. Install other requirements (optional)

Phylo Island can also create alignments using MUSCLE and trees using FastTree. To do this locally you will need to have these installed on your computer and runnable via the commands `muscle` and `fasttree` on the command line.

If you want to use other alignment or tree inference programs that is also possible, as Phylo Island will allow you to upload any tree or alignment file. If the identifiers match the Fasta files generated by Phylo Island then any of the later curation or annotation steps will be available to this data as well.


# Tutorial / Getting started

1. Load example data
The easiest way to load genomic data is via the command line interface, which can then be viewed in the GUI

Load the example genomes

```
python pi/phyloisland_cmd.py --load_genomes pi/example_data/morganella_morganii

```

Load and search with the example profile HMMs
```
python pi/phyloisland_cmd.py -p "pi/example_data/full_profiles" -u

```

2. View the GUI

```
python pi/phyloisland.py

```

You can now open a web browser and navigate to http://127.0.0.1:5000/ and you will see the Phylo Island GUI.

3. Register as a new user (there is no email validation needed in the current version)


4. Go to Genome Records to see the database view of the hits for each genome

5. Go to Genome Diagrams to see the interactive diagram view of the hits for each genome.


# Workflow

<img src="https://raw.githubusercontent.com/gabe-foley-thesis/Phylo_Island/main/images/gui.png" width="700">



# Notes

- Phylo Island uses session data to store certain data to help loading pages. If you run into a 404 Error try logging out and in again.

